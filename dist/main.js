(()=>{"use strict";let e=[],t="",o="";function l(e){this.title=e,this.todos=[]}function n(e,t,o,l){this.title=e,this.dueDate=t,this.priority=o,this.isCompleted=l}function c(e,t){return t.some((t=>t.title===e))}function s(e){const l=document.createElement("li");l.className="todo-item",l.dataset.title=e.title;const n=document.createElement("div");n.className="todo-title",n.textContent=e.title,l.appendChild(n);const c=document.createElement("div");c.className="todo-date";const s=document.createElement("span");s.className="label",s.textContent="Due:",c.appendChild(s);const i=document.createElement("span");i.textContent=e.dueDate,c.appendChild(i),l.appendChild(c);const a=document.createElement("div");a.className="todo-priority";const u=document.createElement("span");u.className="label",u.textContent="Priority:",a.appendChild(u);const y=document.createElement("span");y.textContent=e.priority,a.appendChild(y),l.appendChild(a);const m=document.createElement("button");m.className=e.title,m.textContent="Complete",m.addEventListener("click",(function(){o=t.todos.find((e=>e.title===m.className)),function(e){document.querySelectorAll(".todo-item").forEach((t=>{if(t.dataset.title===e.title){const e=t.querySelector(".todo-title");e&&(e.style.textDecoration="line-through"),t.style.backgroundColor=1==H?"#334155":"#737373",t.querySelectorAll("button").forEach((e=>{"Complete"===e.textContent&&(e.style.display="none")}))}})),e.isCompleted=!0,d()}(o)})),l.appendChild(m);const f=document.createElement("button");f.className=e.title,f.textContent="Delete",f.addEventListener("click",(function(){o=t.todos.find((e=>e.title===f.className)),function(e){const o=document.querySelector(".todo-list");document.querySelectorAll(".todo-item").forEach((t=>{t.dataset.title===e.title&&o.removeChild(t)}));const l=t.todos.findIndex((t=>t.title===e.title));l>-1&&t.todos.splice(l,1),d()}(o)})),l.appendChild(f),e.isCompleted&&(n.style.textDecoration="line-through",m.style.display="none"),r(l,e.isCompleted),C.appendChild(l)}function r(e,t){e.style.backgroundColor=1==H?t?"#334155":"#64748b":t?"#737373":"#e5e5e5"}function d(){localStorage.setItem("projects",JSON.stringify(e))}const i=document.querySelector(".project-list"),a=document.querySelector(".newproject"),u=document.querySelector(".project-entry"),y=document.querySelector("#project-form"),m=document.querySelector("#project-title-input"),f=(document.querySelector("#addProjectBtn"),document.querySelector("#cancelProjectBtn")),p=document.querySelector(".project-title"),C=document.querySelector(".todo-list"),v=document.querySelector(".new-todo"),h=document.querySelector(".todo-entry"),b=document.querySelector("#todo-form"),k=document.querySelector("#todo-title-input"),g=document.querySelector("#todo-duedate-input"),S=document.querySelector("#todo-priority-input"),E=(document.querySelector("#addToDoBtn"),document.querySelector("#cancelToDoBtn")),q=document.querySelector(".buttonarea"),L=document.querySelector(".header"),x=document.querySelector(".main"),j=document.querySelector(".sidebar"),w=document.querySelector(".project-area"),N=document.querySelector("#nightmode-btn"),M=document.querySelector("#nightmode-icon"),D=document.querySelector("#mute-btn"),B=document.querySelector("#mute-icon"),I=document.querySelector("#delete-project"),T=document.querySelector(".delete-confirmation"),A=document.querySelector("#sidebar-close");a.addEventListener("click",(()=>{u.style.display="block",u.showModal()})),f.addEventListener("click",(()=>{u.style.display="none",u.close()})),y.addEventListener("submit",(function(t){t.preventDefault(),function(){if(!m.value)return void alert("Please enter a quest name!");if(c(m.value,e))return void alert("This quest name is taken!");const t=new l(m.value);e.push(t);const o=document.createElement("div");o.className="project",o.dataset.title=t.title,o.textContent=t.title,i.appendChild(o),m.value="",u.style.display="none",u.close(),d()}()})),i.addEventListener("click",(function(o){if(o.target.classList.contains("project")){const l=o.target.dataset.title;t=e.find((e=>e.title===l)),function(o){const l=e.find((e=>e.title===o));l?(q.style.display="flex",C.style.display="flex",I.style.display="flex",p.innerHTML="",p.textContent=l.title,C.innerHTML="",""!=t.todos&&(t.todos.forEach((e=>s(e))),d())):alert("Project not found")}(l),j.classList.toggle("open")}})),v.addEventListener("click",(()=>{h.style.display="block",h.showModal()})),E.addEventListener("click",(()=>{h.style.display="none",h.close()})),b.addEventListener("submit",(function(e){e.preventDefault(),function(){if(!k.value)return void alert("Please enter a task name!");if(c(k.value,t.todos))return void alert("This task already exists!");const e=new n(k.value,g.value,S.value);t.todos.push(e),s(e),k.value="",g.value="",S.value="",h.style.display="none",h.close(),d()}()})),I.addEventListener("click",(function(){""!==t&&(T.showModal(),T.style.display="flex")}));const P=document.querySelector("#delete-yes");document.querySelector("#delete-no").addEventListener("click",(()=>{T.close(),T.style.display="none"})),P.addEventListener("click",(function(){!function(t){const o=document.querySelector(".project-list");document.querySelectorAll(".project").forEach((e=>{e.dataset.title===t.title&&o.removeChild(e)}));const l=e.findIndex((e=>e.title===t.title));l>-1&&e.splice(l,1),p.innerHTML="",C.innerHTML="",q.style.display="none",C.style.display="none",t="",I.style.display="none",d()}(t),T.close(),T.style.display="none"}));let H=!1;N.addEventListener("click",(function(){0==H?(H=!0,L.style.backgroundColor="#1f2937",L.style.color="#f3f4f6",x.style.backgroundColor="#1f2937",j.style.backgroundColor="#111827",j.style.color="#f3f4f6",j.style.borderColor="white",w.style.backgroundColor="#111827",w.style.color="#f3f4f6",w.style.borderColor="white",u.style.backgroundColor="#111827",u.style.color="#f3f4f6",h.style.backgroundColor="#111827",h.style.color="#f3f4f6",O.style.backgroundColor="#111827",O.style.color="#f3f4f6",T.style.backgroundColor="#111827",T.style.color="#f3f4f6",M.style.filter="invert(100%)",B.style.filter="invert(100%)",G.style.filter="invert(100%)",A.style.filter="invert(100%)",I.style.filter="invert(100%)"):1==H&&(H=!1,L.style.backgroundColor="#f5f5f4",L.style.color="black",x.style.backgroundColor="#f5f5f4",j.style.backgroundColor="#a8a29e",j.style.color="black",j.style.borderColor="black",w.style.backgroundColor="#d6d3d1",w.style.color="black",w.style.borderColor="black",u.style.backgroundColor="white",u.style.color="black",h.style.backgroundColor="white",h.style.color="black",O.style.backgroundColor="white",O.style.color="black",T.style.backgroundColor="white",T.style.color="black",M.style.filter="none",B.style.filter="none",G.style.filter="none",A.style.filter="none",I.style.filter="none"),console.log(t.todos);const e=document.querySelectorAll(".todo-item");t.todos.forEach((t=>{e.forEach((e=>{e.dataset.title===t.title&&(J=1==t.isCompleted,r(e,J))}))}))}));let J="";D.addEventListener("click",(function(){const e=document.getElementById("backgroundMusic");e?(e.muted=!e.muted,e.muted?B.src="/src/assets/volume-off.svg":B.src="/src/assets/volume-high.svg"):console.error("Audio element not found")}));const O=document.querySelector(".icon-select"),$=document.querySelectorAll(".icon"),z=document.getElementById("icon-select-btn"),F=document.querySelector(".currenticon");z.addEventListener("click",(()=>{O.style.display="flex",O.showModal()})),$.forEach((e=>{e.addEventListener("click",(()=>{"tree"!==e.id?(F.src=`/src/assets/${e.id}.gif`,F.style.scale="2.5"):"tree"==e.id&&(F.src="/src/assets/tree.png",F.style.scale="2"),O.close(),O.style.display="none"}))}));const G=document.getElementById("sidebar-menu");G.addEventListener("click",(()=>{j.classList.toggle("open")})),document.getElementById("sidebar-close").addEventListener("click",(()=>{j.classList.toggle("open")})),function(){!function(){const t=localStorage.getItem("projects");if(t){const o=JSON.parse(t);e=o.map((e=>{const t=new l(e.title);return t.todos=e.todos.map((e=>new n(e.title,e.dueDate,e.priority,e.isCompleted))),t}))}}(),i.innerHTML="",e.forEach((e=>{!function(e){const t=document.createElement("div");t.className="project",t.dataset.title=e.title,t.textContent=e.title,i.appendChild(t)}(e)})),u.style.display="none",u.close(),h.style.display="none",h.close(),q.style.display="none",C.style.display="none",O.close(),O.style.display="none",T.close(),T.style.display="none";const t=document.querySelector(".welcome");t.showModal(),t.style.display="flex",document.getElementById("enter").addEventListener("click",(()=>{t.close(),t.style.display="none";const e=document.getElementById("backgroundMusic");e.volume=.1,e.play()}))}()})();
//# sourceMappingURL=main.js.map